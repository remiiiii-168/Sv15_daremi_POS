<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crud srceen</title>


  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      gap: 2rem;
      padding: 2rem;
    }
    .form-container, .list-container {
      border: 1px solid #ddd;
      padding: 20px;
      width: 45%;
      box-shadow: 2px 2px 10px #ccc;
    }
    input {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
    }
    button {
      padding: 8px 15px;
      margin-right: 5px;
    }
    .product-row img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }
    .actions button {
      margin: 0 2px;
    }
    
  </style>

  
</head>


<body>

  <div class="form-container">
    <h2>in Put product </h2>
    <h5 >Name:</h5>
    <input type="text" id="name" placeholder="Enter Name ..." />
     <h5 >catagory:</h5>
    <input type="catagory" id="catagory" placeholder="Enter catagory ..." />
     <h5 >price:</h5>
    <input type="price" id="price" placeholder="Enter price ..." />
     <h5 >picture:</h5>
    <input type="text" id="picture" placeholder="Enter Image URL ..." />
    <button onclick="resetForm()" style="background-color: #e74c3c; color: white;">Cancel</button>
    <button onclick="Saveproduct()" style="background-color: #6c63ff; color: white;">Save</button>
  </div>

  <div class="list-container" >
    <h2>product List</h2>
    <table>
      <thead>
        <tr>
          <th>No.</th>
          <th>Name</th>
          <th>catagory</th>
          <th>price</th>
          <th>picture</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="productTableBody">
        
      </tbody>
    </table>
  </div>

</body>


<script>
  let products = JSON.parse(localStorage.getItem('products') ?? '[]')
  let editIndex = null

  function Saveproduct() {
    let name = document.getElementById('name').value.trim()
    let catagory = document.getElementById('catagory').value.trim()
    let price = document.getElementById('price').value.trim()
    let picture = document.getElementById('picture').value.trim()

    if (!name || !catagory || !price || !picture) {
      alert("Please input all product information")
      return
    }

    let product = { name, catagory , price , picture }

    if (editIndex !== null) {
      products[editIndex] = product
      editIndex = null
    } else {
      products.push(product)
    }

    localStorage.setItem('products', JSON.stringify(products))
    resetForm()
    renderTable()
  }

  function resetForm() {
    document.getElementById('name').value = ''
    document.getElementById('catagory').value = ''
    document.getElementById('price').value = ''
    document.getElementById('picture').value = ''
    editIndex = null
  }

  function renderTable() {
    let tbody = document.getElementById('productTableBody')
    tbody.innerHTML = ''

    products.forEach((product, index) => {
      let row = `<tr class="product-row">
        <td>${index + 1}</td>
        <td>${product.name}</td>
        <td>${product.catagory}</td>
        <td>${product.price}</td>
        <td><img src="${product.picture}" alt="picture" /></td>
        <td class="actions">
          <button onclick="deleteproduct(${index})">❌</button>
          <button onclick="editproduct(${index})">✏️</button>
        </td>
      </tr>`
      tbody.innerHTML += row
    })
  }

  function deleteproduct(index) {
    if (confirm("Are you sure you want to delete this product?")) {
      products.splice(index, 1)
      localStorage.setItem('products', JSON.stringify(products)) 
      renderTable()
    }
  }

  function editproduct(index) {
    let product = products[index]
    document.getElementById('name').value = product.name
    document.getElementById('catagory').value = product.catagory
    document.getElementById('price').value = product.price
    document.getElementById('picture').value = product.picture
    editIndex = index 
  }

  // Render when page loads
  window.onload = renderTable
</script>


</html>
